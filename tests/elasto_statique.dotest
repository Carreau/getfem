#!/usr/bin/perl

open F, "elasto_statique elasto_statique.param |" or die;
while (<F>)
{
  print $_;
  if ($_ =~ /Error H\^1/)
  { 
    ($fi1, $fi2) = split('H\^1', $_, 2);
    $fi2 = $fi2 * 1.0;
    print "The result is : $fi2\n";
    print "Expected result was : 3.34596e-06 \n";
    if (abs($fi2 - 3.34596e-06) > 1.0e-06)
    {
      print "*************************************************************\n";
      print "*                                                           *\n";
      print "*  Une erreur a été détéctée dans elasto_dynamique.C        *\n";
      print "*                                                           *\n";
      print "*************************************************************\n";
    }
  }

}
close F;


