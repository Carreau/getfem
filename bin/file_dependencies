#!/usr/bin/perl

open(FICHIER, $ARGV[0]) or die "Open file impossible : $!\n";
while ($line = <FICHIER>)
{
  if ($line =~ /^([ ])*\#include/)
  {
    ($f1, $f2) = split('#include', $line, 2);
    if ($line =~ /</)
    { ($f1, $f2) = split('<', $f2, 2); ($f2, $f1) =  split('>', $f2, 2); }
    else
    { ($f1, $f2) = split('\"', $f2, 2); ($f2, $f1) =  split('\"', $f2, 2); }


    if (($f2 =~ /^getfem/) or ($f2 =~ /^dal/) or ($f2 =~ /^bgeot/) or ($f2 =~ /^linkmsg/) or ($f2 =~ /^ftool/) or ($f2 =~ /^matlabint/))
    {
      while ($f2 =~ /\//) { ($f1, $f2) = split('\/', $f2, 2); }
      print $f2, "\n";
    }
  }
}
