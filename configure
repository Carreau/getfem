eval 'exec perl -S $0 "$@"'
  if 0;

$CC = $ENV{CC};

while ($ARGV[0])
{
  if (($ARGV[0] =~ /\-\-help/) || ($ARGV[0] =~ /\-help/) ||
      ($ARGV[0] =~ /\-\-h/)    || ($ARGV[0] =~ /\-h/)) {
    print "Configure getfem++ and create the Makefile to compile libraries\n";
    print " -help, -h : this help\n";
    print " -CC=xxx : set the c++ compiler\n";
  }
  elsif (($ARGV[0] =~ /\-\-CC=/) || ($ARGV[0] =~ /\-CC=/)) {
    ($li, $CC) = split('=', $ARGV[0], 2);
  }
  else
  { 
    die "Sorry, unrecognized option";
  }
  shift ARGV;
}

if ($CC) { print "Compiler selected : $CC\n"; $ENV{CC} = $CC; }

print "Installing Getfem++\n\n";

print "To compile the library, type make after the configuration process ";
print "ended\n\n";

print "Library name : lib/libgetfem.a  and  lib/libgetfem.so\n";

if (-d "matlabcom") {
  print "Matlab commands are compiled also in directory lib/ \n";
}

exec "bin/install";


